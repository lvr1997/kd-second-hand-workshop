<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.springmvc.dao.AddressMapper" >
  <resultMap id="BaseResultMap" type="com.springmvc.pojo.Address" >

    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <constructor >
      <idArg column="id" jdbcType="INTEGER" javaType="java.lang.Integer" />
      <arg column="uid" jdbcType="INTEGER" javaType="java.lang.Integer" />
      <arg column="recv_name" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_province" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_city" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_area" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_district" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_addr" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_phone" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_tel" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_zip" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="recv_tag" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="is_default" jdbcType="INTEGER" javaType="java.lang.Integer" />
      <arg column="created_user" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="created_time" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="modified_user" jdbcType="VARCHAR" javaType="java.lang.String" />
      <arg column="modified_time" jdbcType="VARCHAR" javaType="java.lang.String" />
    </constructor>
  </resultMap>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from address
    where id = #{id,jdbcType=INTEGER}
  </delete>

  <insert id="insert" parameterType="com.springmvc.pojo.Address" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into address (uid, recv_name,
      recv_province, recv_city, recv_area, 
      recv_district, recv_addr, recv_phone, 
      recv_tel, recv_zip, recv_tag, 
      is_default, created_user, created_time, 
      modified_user, modified_time)
    values (#{uid,jdbcType=INTEGER}, #{recvName,jdbcType=VARCHAR},
      #{recvProvince,jdbcType=VARCHAR}, #{recvCity,jdbcType=VARCHAR}, #{recvArea,jdbcType=VARCHAR}, 
      #{recvDistrict,jdbcType=VARCHAR}, #{recvAddr,jdbcType=VARCHAR}, #{recvPhone,jdbcType=VARCHAR}, 
      #{recvTel,jdbcType=VARCHAR}, #{recvZip,jdbcType=VARCHAR}, #{recvTag,jdbcType=VARCHAR}, 
      #{isDefault,jdbcType=INTEGER}, #{createdUser,jdbcType=VARCHAR}, #{createdTime,jdbcType=VARCHAR}, 
      #{modifiedUser,jdbcType=VARCHAR}, #{modifiedTime,jdbcType=VARCHAR})
  </insert>

  <update id="updateByPrimaryKey" parameterType="com.springmvc.pojo.Address" >

    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update address
    set uid = #{uid,jdbcType=INTEGER},
      recv_name = #{recvName,jdbcType=VARCHAR},
      recv_province = #{recvProvince,jdbcType=VARCHAR},
      recv_city = #{recvCity,jdbcType=VARCHAR},
      recv_area = #{recvArea,jdbcType=VARCHAR},
      recv_district = #{recvDistrict,jdbcType=VARCHAR},
      recv_addr = #{recvAddr,jdbcType=VARCHAR},
      recv_phone = #{recvPhone,jdbcType=VARCHAR},
      recv_tel = #{recvTel,jdbcType=VARCHAR},
      recv_zip = #{recvZip,jdbcType=VARCHAR},
      recv_tag = #{recvTag,jdbcType=VARCHAR},
      is_default = #{isDefault,jdbcType=INTEGER},
      created_user = #{createdUser,jdbcType=VARCHAR},
      created_time = #{createdTime,jdbcType=VARCHAR},
      modified_user = #{modifiedUser,jdbcType=VARCHAR},
      modified_time = #{modifiedTime,jdbcType=VARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select id, uid, recv_name, recv_province, recv_city, recv_area, recv_district, recv_addr, 
    recv_phone, recv_tel, recv_zip, recv_tag, is_default, created_user, created_time, 
    modified_user, modified_time
    from address
    where id = #{id,jdbcType=INTEGER}
  </select>
  <select id="selectAll" resultMap="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select id, uid, recv_name, recv_province, recv_city, recv_area, recv_district, recv_addr, 
    recv_phone, recv_tel, recv_zip, recv_tag, is_default, created_user, created_time, 
    modified_user, modified_time
    from address
  </select>

  <select id="getAllAddressByUid" resultMap="BaseResultMap">
    select
      id, uid, recv_name, recv_province, recv_city, recv_area, recv_district, recv_addr,
      recv_phone, recv_tel, recv_zip, recv_tag, is_default, created_user, created_time,
      modified_user, modified_time
    from
      address
    where
      uid=#{uid}
  </select>

  <!-- 修改uid的所有的收件地址的is_default的值为0 -->
  <!-- void setCancel(Integer uid); -->

  <update id="setCancel" parameterType="java.lang.Integer">
    update
      address
    set
      is_default = 0
    where
      uid=#{uid}
  </update>

  <!-- 修改is_default值为1 -->
  <!-- void setDefault(Integer id) -->
  <update id="setDefault">
    update
      address
    set
      is_default = 1
    where
      id = #{id}
  </update>

  <!-- 通过Id查询Address信息 -->
  <!-- Address getAddressById(Integer id); -->

  <select id="getAddressById" resultType="com.springmvc.pojo.Address">
    select
      id,
      uid,
      recv_name as recvName,
      recv_province as recvProvince,
      recv_city as recvCity,
      recv_area as recvArea,
      recv_district as recvDistrict,
      recv_addr as recvAddr,
      recv_phone as recvPhone,
      recv_tel as recvTel,
      recv_zip as recvZip,
      recv_tag as recvTag,
      is_default as isDefault,
      created_user as createdUser,
      created_time as createdTime,
      modified_user as modifiedUser,
      modified_time as modifiedTime
    from
      address
    where
      id = #{id}

  </select>
  <!-- 修改address信息 -->
  <!-- void update(Address address) -->

  <update id="update" parameterType="com.springmvc.pojo.Address">
    update
      address
    set
      recv_name = #{recvName},
      recv_province = #{recvProvince},
      recv_city = #{recvCity},
      recv_area = #{recvArea},
      recv_district = #{recvDistrict},
      recv_addr = #{recvAddr},
      recv_phone = #{recvPhone},
      recv_tel = #{recvTel},
      recv_zip = #{recvZip},
      recv_tag = #{recvTag},
      modified_user = #{modifiedUser},
      modified_time = #{modifiedTime}
    where
      id=#{id}

  </update>
  <!-- 删除地址 -->
  <!-- Integer delete(Integer id); -->
  <delete id="delete">
    delete
    from
      address
    where
      id=#{id}
  </delete>

</mapper>